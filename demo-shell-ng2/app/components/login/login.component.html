<div class="row">
    <div class="col-md-4 col-md-offset-4">
        <form [ngFormModel]="form" (submit)="onSubmit(form.value, $event)" class="form-signin">
            <div [ngClass]="{'has-error': isErrorStyle(form.controls.username)}" class="form-group">
                <label for="username">Username</label>
                <input id="username" class="form-control " type="text" placeholder="username" ngControl="username">
                <div [hidden]="form.controls.username.valid || form.controls.username.pristine" class="alert alert-danger">
                    <p *ngIf="form.controls.username.dirty && form.controls.username.errors && form.controls.username.errors.minlength">
                        Your username needs to be at least 4 characters.
                    </p>
                    <p *ngIf="form.controls.username.hasError('required')">
                        Username is required
                    </p>
                </div>
            </div>
            <div [ngClass]="{'has-error': isErrorStyle(form.controls.password)}" class="form-group">
                <label for="password">Password</label>
                <input id="password" class="form-control" type="password" placeholder="password" ngControl="password">
                <div [hidden]="form.controls.password.valid || form.controls.password.pristine" class="alert alert-danger">
                    <p *ngIf="form.controls.password.hasError('required')">
                        Password is required
                    </p>
                </div>
            </div>
            <button type="submit" class="btn btn-lg btn-primary btn-block" [disabled]="!form.valid">Login</button>
            <div *ngIf="error" class="alert alert-danger">You have entered an invalid username or password</div>
        </form>
    </div>
</div>
