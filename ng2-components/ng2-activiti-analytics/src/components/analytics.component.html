<div class="col-md-6">
    <analytics-report-parameters [appId]="appId" [reportId]="reportId"
                                 (onFormValueChanged)="reset()" (onSuccess)="showReport($event)"></analytics-report-parameters>

    <div *ngIf="reports">
        <div *ngFor="let report of reports">
            <h2>{{report.title}}</h2>
            <div [ngSwitch]="report.type">
                <div *ngSwitchCase="'pie'">
                    <div class="col-md-6">
                        <base-chart class="chart"
                                    [data]="report.data"
                                    [datasets]="report.datasets"
                                    [labels]="report.labels"
                                    [chartType]="report.type"></base-chart>
                    </div>
                </div>
                <div *ngSwitchCase="'table'">
                    <div [attr.id]="'chart-table-' + report.id">
                    <table class="table table-responsive table-condensed" style="width: 100%">
                        <tr>
                            <th *ngFor="let label of report.labels">{{label | translate}}</th>
                        </tr>
                        <tr *ngFor="let rows of report.datasets" style="text-align: center;">
                            <td *ngFor="let row of rows">{{row | translate }}</td>
                        </tr>
                    </table>
                    </div>
                </div>
                <div *ngSwitchCase="'masterDetailTable'">
                    <table class="table table-responsive table-condensed" style="width: 100%">
                        <tr>
                            <th *ngFor="let label of report.labels">{{label | translate}}</th>
                        </tr>
                        <tr *ngFor="let rows of report.datasets" style="text-align: center;">
                            <td *ngFor="let row of rows">{{row | translate }}</td>
                        </tr>
                    </table>
                </div>
                <div *ngSwitchCase="'bar'">
                    <div class="col-md-6">
                        <base-chart class="chart"
                                    [datasets]="report.datasets"
                                    [labels]="report.labels"
                                    [options]="report.options"
                                    [chartType]="report.type"></base-chart>
                    </div>
                </div>
                <div *ngSwitchDefault>
                    <span>UNKNOWN WIDGET TYPE: {{report.type}}</span>
                </div>
            </div>
        </div>
    </div>
</div>